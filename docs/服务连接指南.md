# ðŸš€ ä¼ä¸šçŸ¥è¯†åº“å¹³å° - æœåŠ¡è¿žæŽ¥å®Œæ•´æŒ‡å—

## ðŸ“‹ æ¦‚è§ˆ

æœ¬æ–‡æ¡£æä¾›ä¼ä¸šçŸ¥è¯†åº“å¹³å°ä¸­æ‰€æœ‰æœåŠ¡çš„è¯¦ç»†è¿žæŽ¥æ–¹å¼ã€é…ç½®å‚æ•°å’Œä½¿ç”¨ç¤ºä¾‹ã€‚

### ðŸ”§ å¹³å°æž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®å­˜å‚¨å±‚     â”‚    â”‚   æ•°æ®å¤„ç†å±‚     â”‚    â”‚   ç›‘æŽ§ç®¡ç†å±‚     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ MySQL         â”‚    â”‚ â€¢ Flink         â”‚    â”‚ â€¢ Prometheus    â”‚
â”‚ â€¢ Redis         â”‚    â”‚ â€¢ Kafka         â”‚    â”‚ â€¢ Grafana       â”‚
â”‚ â€¢ Neo4j         â”‚    â”‚ â€¢ Flink CDC     â”‚    â”‚ â€¢ Adminer       â”‚
â”‚ â€¢ MinIO         â”‚    â”‚ â€¢ Zookeeper     â”‚    â”‚                 â”‚
â”‚ â€¢ StarRocks     â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ—„ï¸ æ•°æ®å­˜å‚¨æœåŠ¡

### 1. MySQL å…³ç³»æ•°æ®åº“

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: MySQL 8.0
å¤–éƒ¨è®¿é—®: localhost:3306
å†…éƒ¨è®¿é—®: mysql:3306
ç”¨æˆ·å: root
å¯†ç : rootpass
é»˜è®¤æ•°æ®åº“: test_db
```

#### ðŸ’» è¿žæŽ¥æ–¹å¼

**å‘½ä»¤è¡Œè¿žæŽ¥:**
```bash
# æ ‡å‡†è¿žæŽ¥
mysql -h localhost -P 3306 -u root -p
# å¯†ç : rootpass

# ç›´æŽ¥æŒ‡å®šæ•°æ®åº“
mysql -h localhost -P 3306 -u root -pootpass test_db
```

**JDBCè¿žæŽ¥å­—ç¬¦ä¸²:**
```
jdbc:mysql://localhost:3306/test_db?useSSL=false&serverTimezone=UTC&useUnicode=true&characterEncoding=utf8
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
import mysql.connector

# ä½¿ç”¨mysql-connector-python
connection = mysql.connector.connect(
    host='localhost',
    port=3306,
    user='root',
    password='rootpass',
    database='test_db'
)

# ä½¿ç”¨PyMySQL
import pymysql
connection = pymysql.connect(
    host='localhost',
    port=3306,
    user='root',
    password='rootpass',
    database='test_db',
    charset='utf8mb4'
)
```

---

### 2. Redis ç¼“å­˜æ•°æ®åº“

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Redis 7.0
å¤–éƒ¨è®¿é—®: localhost:6379
å†…éƒ¨è®¿é—®: redis:6379
å¯†ç : æ— 
æœ€å¤§å†…å­˜: 2GB
æ·˜æ±°ç­–ç•¥: allkeys-lru
```

#### ðŸ’» è¿žæŽ¥æ–¹å¼

**å‘½ä»¤è¡Œè¿žæŽ¥:**
```bash
# æ ‡å‡†è¿žæŽ¥
redis-cli -h localhost -p 6379

# æµ‹è¯•è¿žæŽ¥
redis-cli -h localhost -p 6379 ping
# åº”è¿”å›ž: PONG
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
import redis

# æ ‡å‡†è¿žæŽ¥
r = redis.Redis(
    host='localhost',
    port=6379,
    decode_responses=True
)

# è¿žæŽ¥æ± æ–¹å¼
pool = redis.ConnectionPool(
    host='localhost',
    port=6379,
    max_connections=20
)
r = redis.Redis(connection_pool=pool)

# æµ‹è¯•è¿žæŽ¥
r.ping()  # è¿”å›ž True
```

---

### 3. Neo4j å›¾æ•°æ®åº“ (ç¤¾åŒºç‰ˆ)

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Neo4j 5.11 Community
Webç•Œé¢: http://localhost:7474
Boltåè®®: bolt://localhost:7687
ç”¨æˆ·å: neo4j
å¯†ç : password
å†…éƒ¨è®¿é—®: neo4j:7474, neo4j:7687
```

#### ðŸ’» è¿žæŽ¥æ–¹å¼

**Webæµè§ˆå™¨è®¿é—®:**
```
URL: http://localhost:7474
ç”¨æˆ·å: neo4j
å¯†ç : password
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
from neo4j import GraphDatabase

# åˆ›å»ºé©±åŠ¨
driver = GraphDatabase.driver(
    "bolt://localhost:7687",
    auth=("neo4j", "password")
)

# ä½¿ç”¨ä¼šè¯
def get_nodes(tx):
    result = tx.run("MATCH (n) RETURN n LIMIT 10")
    return [record["n"] for record in result]

with driver.session() as session:
    nodes = session.read_transaction(get_nodes)

# å…³é—­é©±åŠ¨
driver.close()
```

**CypheræŸ¥è¯¢ç¤ºä¾‹:**
```cypher
# åˆ›å»ºèŠ‚ç‚¹
CREATE (p:Person {name: 'å¼ ä¸‰', age: 30})

# æŸ¥è¯¢æ‰€æœ‰èŠ‚ç‚¹
MATCH (n) RETURN n LIMIT 25

# åˆ›å»ºå…³ç³»
MATCH (a:Person), (b:Person)
WHERE a.name = 'å¼ ä¸‰' AND b.name = 'æŽå››'
CREATE (a)-[r:KNOWS]->(b)
```

---

### 4. MinIO å¯¹è±¡å­˜å‚¨

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: MinIO
APIç«¯ç‚¹: http://localhost:9000
WebæŽ§åˆ¶å°: http://localhost:9001
è®¿é—®å¯†é’¥: admin
å¯†é’¥: StrongPass!
å†…éƒ¨è®¿é—®: minio:9000, minio:9001
```

#### ðŸ’» è¿žæŽ¥æ–¹å¼

**WebæŽ§åˆ¶å°è®¿é—®:**
```
URL: http://localhost:9001
ç”¨æˆ·å: admin
å¯†ç : StrongPass!
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
from minio import Minio

# åˆ›å»ºå®¢æˆ·ç«¯
client = Minio(
    "localhost:9000",
    access_key="admin",
    secret_key="StrongPass!",
    secure=False
)

# åˆ›å»ºå­˜å‚¨æ¡¶
bucket_name = "knowledge-base"
if not client.bucket_exists(bucket_name):
    client.make_bucket(bucket_name)

# ä¸Šä¼ æ–‡ä»¶
client.fput_object(
    bucket_name,
    "test.txt",
    "/path/to/local/file.txt"
)

# ä¸‹è½½æ–‡ä»¶
client.fget_object(
    bucket_name,
    "test.txt",
    "/path/to/download/file.txt"
)
```

**AWS CLIé…ç½®:**
```bash
# é…ç½®AWS CLI
aws configure set aws_access_key_id admin
aws configure set aws_secret_access_key StrongPass!

# ä½¿ç”¨AWS CLIæ“ä½œMinIO
aws --endpoint-url=http://localhost:9000 s3 ls
aws --endpoint-url=http://localhost:9000 s3 mb s3://my-bucket
aws --endpoint-url=http://localhost:9000 s3 cp file.txt s3://my-bucket/
```

---

### 5. StarRocks åˆ†æžæ•°æ®åº“

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: StarRocks FE
Webç®¡ç†: http://localhost:8030
æŸ¥è¯¢ç«¯å£: localhost:9030
ç”¨æˆ·å: root
å¯†ç : æ— 
å†…éƒ¨è®¿é—®: starrocks-fe:8030, starrocks-fe:9030
```

#### ðŸ’» è¿žæŽ¥æ–¹å¼

**MySQLåè®®è¿žæŽ¥:**
```bash
# ä½¿ç”¨MySQLå®¢æˆ·ç«¯è¿žæŽ¥
mysql -h localhost -P 9030 -u root

# æŸ¥çœ‹æ•°æ®åº“
SHOW DATABASES;

# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS analytics;
```

**Webç®¡ç†ç•Œé¢:**
```
URL: http://localhost:8030
æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ã€ç›‘æŽ§æ€§èƒ½ç­‰
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
import mysql.connector

# è¿žæŽ¥StarRocks (ä½¿ç”¨MySQLåè®®)
connection = mysql.connector.connect(
    host='localhost',
    port=9030,
    user='root',
    # StarRocksé€šå¸¸ä¸éœ€è¦å¯†ç 
)

cursor = connection.cursor()
cursor.execute("SHOW DATABASES")
databases = cursor.fetchall()
print(databases)
```

**REST APIç¤ºä¾‹:**
```bash
# æŸ¥çœ‹é›†ç¾¤çŠ¶æ€
curl http://localhost:8030/api/show_proc?path=/

# æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨
curl http://localhost:8030/api/show_proc?path=/dbs
```

---

## ðŸ”„ æ•°æ®å¤„ç†æœåŠ¡

### 6. Apache Flink æµå¤„ç†

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Flink 1.17.1
Web Dashboard: http://localhost:8081
JobManager: localhost:8081
TaskManager: 2ä¸ªå®žä¾‹
å†…éƒ¨è®¿é—®: flink-jobmanager:8081
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**Web Dashboard:**
```
URL: http://localhost:8081
åŠŸèƒ½: ä½œä¸šç®¡ç†ã€ç›‘æŽ§ã€æ—¥å¿—æŸ¥çœ‹
```

**æäº¤ä½œä¸š:**
```bash
# ä½¿ç”¨Flink CLI (éœ€è¦åœ¨å®¹å™¨å†…)
docker exec -it root-flink-jobmanager-1 bash
flink run examples/streaming/WordCount.jar

# ä½¿ç”¨REST API
curl -X POST http://localhost:8081/jars/upload \
  -H "Content-Type: multipart/form-data" \
  -F "jarfile=@/path/to/your/job.jar"
```

**REST APIç¤ºä¾‹:**
```bash
# æŸ¥çœ‹æ‰€æœ‰ä½œä¸š
curl http://localhost:8081/jobs

# æŸ¥çœ‹é›†ç¾¤æ¦‚å†µ
curl http://localhost:8081/overview

# æŸ¥çœ‹TaskManager
curl http://localhost:8081/taskmanagers
```

---

### 7. Apache Kafka æ¶ˆæ¯é˜Ÿåˆ—

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Kafka 7.4.0
Bootstrap Servers: kafka:9092 (å†…éƒ¨è®¿é—®)
Zookeeper: zookeeper:2181
å¤–éƒ¨ç«¯å£: æœªæš´éœ² (ä»…å†…éƒ¨è®¿é—®)
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**åœ¨Dockerå®¹å™¨å†…æ“ä½œ:**
```bash
# è¿›å…¥Kafkaå®¹å™¨
docker exec -it root-kafka-1 bash

# åˆ›å»ºä¸»é¢˜
kafka-topics --create --bootstrap-server localhost:9092 \
  --topic knowledge-base --partitions 3 --replication-factor 1

# ç”Ÿäº§æ¶ˆæ¯
kafka-console-producer --bootstrap-server localhost:9092 \
  --topic knowledge-base

# æ¶ˆè´¹æ¶ˆæ¯
kafka-console-consumer --bootstrap-server localhost:9092 \
  --topic knowledge-base --from-beginning
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
from kafka import KafkaProducer, KafkaConsumer
import json

# ç”Ÿäº§è€… (éœ€è¦åœ¨Dockerç½‘ç»œå†…)
producer = KafkaProducer(
    bootstrap_servers=['kafka:9092'],
    value_serializer=lambda v: json.dumps(v).encode('utf-8')
)

# å‘é€æ¶ˆæ¯
producer.send('knowledge-base', {'message': 'Hello World'})
producer.flush()

# æ¶ˆè´¹è€…
consumer = KafkaConsumer(
    'knowledge-base',
    bootstrap_servers=['kafka:9092'],
    value_deserializer=lambda m: json.loads(m.decode('utf-8'))
)

for message in consumer:
    print(message.value)
```

---

### 8. MySQL (CDCæºæ•°æ®åº“)

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: MySQL 8.0
ä¸»æœº: mysql:3306
æ•°æ®åº“: erag
ç”¨æˆ·å: root / cdc_user
å¯†ç : mysql123 / cdc_password123
å­—ç¬¦é›†: utf8mb4
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**è¿žæŽ¥MySQL:**
```bash
# ä½¿ç”¨Dockerè¿žæŽ¥
docker exec -it erag-mysql mysql -u root -p

# ä½¿ç”¨CDCç”¨æˆ·è¿žæŽ¥
mysql -h localhost -P 3306 -u cdc_user -pcdc_password123 erag
```

**éªŒè¯CDCé…ç½®:**
```sql
-- æ£€æŸ¥CDCé…ç½®
CALL CheckCDCConfig();

-- æŸ¥çœ‹binlogçŠ¶æ€
SHOW MASTER STATUS;

-- æŸ¥çœ‹å½“å‰binlogä½ç½®
SELECT GetBinlogPosition();

-- æŸ¥çœ‹CDCé…ç½®
SELECT * FROM cdc_config_check;
```

**ç›‘æŽ§è¡¨å˜æ›´:**
```sql
-- æŸ¥çœ‹æ–‡æ¡£è¡¨
SELECT * FROM documents ORDER BY updated_at DESC LIMIT 10;

-- æŸ¥çœ‹å®žä½“è¡¨
SELECT * FROM entities ORDER BY updated_at DESC LIMIT 10;

-- æŸ¥çœ‹å…³ç³»è¡¨
SELECT * FROM relations ORDER BY updated_at DESC LIMIT 10;

-- æŸ¥çœ‹CDCç›‘æŽ§ä¿¡æ¯
SELECT * FROM cdc_monitoring ORDER BY updated_at DESC;
```

### 9. Flink (å®žæ—¶æµå¤„ç†)

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Apache Flink 1.18
JobManager: http://localhost:8081
TaskManager: è‡ªåŠ¨å‘çŽ°
Web UI: http://localhost:8081
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**Webç•Œé¢è®¿é—®:**
```
http://localhost:8081
```

**Flink CDCä½œä¸šç®¡ç†:**
```bash
# æŸ¥çœ‹æ‰€æœ‰ä½œä¸š
curl http://localhost:8081/jobs

# æŸ¥çœ‹ä½œä¸šè¯¦æƒ…
curl http://localhost:8081/jobs/{job-id}

# å–æ¶ˆä½œä¸š
curl -X PATCH http://localhost:8081/jobs/{job-id}

# æŸ¥çœ‹ä½œä¸šæŒ‡æ ‡
curl http://localhost:8081/jobs/{job-id}/metrics
```

**Pythonè¿žæŽ¥ç¤ºä¾‹:**
```python
from backend.connectors.mysql_cdc_client import MySQLCDCClient, MySQLCDCConfig
from backend.connectors.flink_client import FlinkClient

# åˆ›å»ºFlinkå®¢æˆ·ç«¯
flink_client = FlinkClient(
    jobmanager_host="localhost",
    jobmanager_port=8081
)

# åˆ›å»ºMySQL CDCå®¢æˆ·ç«¯
cdc_config = MySQLCDCConfig(
    hostname="mysql",
    port=3306,
    username="cdc_user",
    password="cdc_password123",
    database_name="erag"
)

cdc_client = MySQLCDCClient(cdc_config, flink_client)

# è¿žæŽ¥å¹¶éªŒè¯
await cdc_client.connect()
validation = await cdc_client.validate_mysql_binlog_config()

# åˆ›å»ºCDCä½œä¸š
job_id = await cdc_client.create_cdc_job(
    job_name="documents-cdc-to-starrocks",
    source_tables=["documents", "entities", "relations"],
    sink_config={
        "connector": "starrocks",
        "jdbc-url": "jdbc:mysql://starrocks:9030",
        "load-url": "starrocks:8030",
        "database": "erag",
        "table": "cdc_documents"
    }
)

# ç›‘æŽ§CDCå»¶è¿Ÿ
lag_info = await cdc_client.monitor_cdc_lag(job_id)
```

---

## ðŸ“Š ç›‘æŽ§ç®¡ç†æœåŠ¡

### 9. Prometheus ç›‘æŽ§

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Prometheus
Webç•Œé¢: http://localhost:9090
é…ç½®æ–‡ä»¶: ./prometheus.yml
å†…éƒ¨è®¿é—®: prometheus:9090
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**Webç•Œé¢è®¿é—®:**
```
URL: http://localhost:9090
åŠŸèƒ½: æŒ‡æ ‡æŸ¥è¯¢ã€å›¾è¡¨å±•ç¤ºã€å‘Šè­¦è§„åˆ™
```

**PromQLæŸ¥è¯¢ç¤ºä¾‹:**
```promql
# æŸ¥çœ‹æ‰€æœ‰UPçŠ¶æ€çš„æœåŠ¡
up

# æŸ¥çœ‹MySQLè¿žæŽ¥æ•°
mysql_global_status_threads_connected

# æŸ¥çœ‹Rediså†…å­˜ä½¿ç”¨
redis_memory_used_bytes

# èšåˆæŸ¥è¯¢
rate(http_requests_total[5m])
```

**APIæŸ¥è¯¢:**
```bash
# å³æ—¶æŸ¥è¯¢
curl "http://localhost:9090/api/v1/query?query=up"

# èŒƒå›´æŸ¥è¯¢
curl "http://localhost:9090/api/v1/query_range?query=up&start=1609459200&end=1609462800&step=15"
```

---

### 10. Grafana å¯è§†åŒ–

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Grafana
Webç•Œé¢: http://localhost:3000
ç”¨æˆ·å: admin
å¯†ç : admin
å†…éƒ¨è®¿é—®: grafana:3000
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**ç™»å½•å’Œé…ç½®:**
```
URL: http://localhost:3000
ç”¨æˆ·å: admin
å¯†ç : admin
```

**æ·»åŠ Prometheusæ•°æ®æº:**
```yaml
ç±»åž‹: Prometheus
URL: http://prometheus:9090
è®¿é—®æ¨¡å¼: Server (Default)
```

**å¸¸ç”¨ä»ªè¡¨æ¿:**
- MySQLç›‘æŽ§ä»ªè¡¨æ¿
- Redisç›‘æŽ§ä»ªè¡¨æ¿
- Flinkä½œä¸šç›‘æŽ§
- ç³»ç»Ÿèµ„æºç›‘æŽ§

---

### 11. Adminer æ•°æ®åº“ç®¡ç†

#### ðŸ”— è¿žæŽ¥ä¿¡æ¯
```yaml
æœåŠ¡åç§°: Adminer
Webç•Œé¢: http://localhost:8082
æ”¯æŒæ•°æ®åº“: MySQL, PostgreSQL, SQLiteç­‰
```

#### ðŸ’» ä½¿ç”¨æ–¹å¼

**è®¿é—®MySQL:**
```
URL: http://localhost:8082
ç³»ç»Ÿ: MySQL
æœåŠ¡å™¨: mysql
ç”¨æˆ·å: root
å¯†ç : rootpass
æ•°æ®åº“: test_db
```

**è®¿é—®StarRocks:**
```
URL: http://localhost:8082
ç³»ç»Ÿ: MySQL
æœåŠ¡å™¨: starrocks-fe
ç«¯å£: 9030
ç”¨æˆ·å: root
å¯†ç : (ç•™ç©º)
```

---

## ðŸ”§ å¼€å‘é…ç½®ç¤ºä¾‹

### Spring Boot é…ç½® (application.yml)

```yaml
spring:
  # MySQLæ•°æ®æº
  datasource:
    primary:
      url: jdbc:mysql://localhost:3306/test_db
      username: root
      password: rootpass
      driver-class-name: com.mysql.cj.jdbc.Driver
    
    # StarRocksæ•°æ®æº  
    starrocks:
      url: jdbc:mysql://localhost:9030/
      username: root
      driver-class-name: com.mysql.cj.jdbc.Driver
  
  # Redisé…ç½®
  redis:
    host: localhost
    port: 6379
    timeout: 3000ms
    jedis:
      pool:
        max-active: 8
        max-wait: -1ms
        max-idle: 8
        min-idle: 0
  
  # Neo4jé…ç½®
  neo4j:
    uri: bolt://localhost:7687
    authentication:
      username: neo4j
      password: password

# Kafkaé…ç½®
kafka:
  bootstrap-servers: localhost:9092  # æ³¨æ„ï¼šå®žé™…åº”ç”¨ä¸­éœ€è¦å®¹å™¨å†…ç½‘ç»œ
  consumer:
    group-id: knowledge-base-group
    auto-offset-reset: earliest
  producer:
    retries: 3
    batch-size: 16384

# MinIOé…ç½®
minio:
  endpoint: http://localhost:9000
  access-key: admin
  secret-key: StrongPass!
  bucket-name: knowledge-base
```

### Pythoné…ç½® (config.py)

```python
import os

class DatabaseConfig:
    # MySQLé…ç½®
    MYSQL_HOST = os.getenv('MYSQL_HOST', 'localhost')
    MYSQL_PORT = int(os.getenv('MYSQL_PORT', 3306))
    MYSQL_USER = os.getenv('MYSQL_USER', 'root')
    MYSQL_PASSWORD = os.getenv('MYSQL_PASSWORD', 'rootpass')
    MYSQL_DATABASE = os.getenv('MYSQL_DATABASE', 'test_db')
    
    # Redisé…ç½®
    REDIS_HOST = os.getenv('REDIS_HOST', 'localhost')
    REDIS_PORT = int(os.getenv('REDIS_PORT', 6379))
    
    # Neo4jé…ç½®
    NEO4J_URI = os.getenv('NEO4J_URI', 'bolt://localhost:7687')
    NEO4J_USER = os.getenv('NEO4J_USER', 'neo4j')
    NEO4J_PASSWORD = os.getenv('NEO4J_PASSWORD', 'password')
    
    # MinIOé…ç½®
    MINIO_ENDPOINT = os.getenv('MINIO_ENDPOINT', 'localhost:9000')
    MINIO_ACCESS_KEY = os.getenv('MINIO_ACCESS_KEY', 'admin')
    MINIO_SECRET_KEY = os.getenv('MINIO_SECRET_KEY', 'StrongPass!')
    
    # Kafkaé…ç½® (å®¹å™¨å†…ä½¿ç”¨)
    KAFKA_BOOTSTRAP_SERVERS = os.getenv('KAFKA_BOOTSTRAP_SERVERS', 'kafka:9092')
    
    # StarRocksé…ç½®
    STARROCKS_HOST = os.getenv('STARROCKS_HOST', 'localhost')
    STARROCKS_PORT = int(os.getenv('STARROCKS_PORT', 9030))
```

### Docker Compose çŽ¯å¢ƒå˜é‡

```bash
# åˆ›å»º .env æ–‡ä»¶
cat > .env << EOF
# MySQL
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=rootpass
MYSQL_DATABASE=test_db

# Redis
REDIS_HOST=redis
REDIS_PORT=6379

# Neo4j
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password

# MinIO
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=StrongPass!

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:9092

# StarRocks
STARROCKS_HOST=starrocks-fe
STARROCKS_HTTP_PORT=8030
STARROCKS_QUERY_PORT=9030

# Flink
FLINK_JOBMANAGER_HOST=flink-jobmanager
FLINK_JOBMANAGER_PORT=8081
EOF
```

---

## ðŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### 1. å¯åŠ¨æ‰€æœ‰æœåŠ¡
```bash
# å¯åŠ¨å¹³å°
docker compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f
```

### 2. éªŒè¯æœåŠ¡è¿žæŽ¥
```bash
# æµ‹è¯•MySQL
mysql -h localhost -P 3306 -u root -p

# æµ‹è¯•Redis
redis-cli -h localhost -p 6379 ping

# æµ‹è¯•Neo4j (æµè§ˆå™¨è®¿é—®)
open http://localhost:7474

# æµ‹è¯•MinIO (æµè§ˆå™¨è®¿é—®)
open http://localhost:9001

# æµ‹è¯•Flink (æµè§ˆå™¨è®¿é—®)
open http://localhost:8081
```

### 3. æœåŠ¡å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰å®¹å™¨çŠ¶æ€
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"

# æ£€æŸ¥æœåŠ¡æ—¥å¿—
docker logs root-mysql-1 --tail 10
docker logs root-redis-1 --tail 10
docker logs root-neo4j-1 --tail 10
```

---

## ðŸ›¡ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

### ç”Ÿäº§çŽ¯å¢ƒé…ç½®å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
   - MySQL rootå¯†ç 
   - Neo4jå¯†ç 
   - MinIOè®¿é—®å¯†é’¥
   - Grafana adminå¯†ç 

2. **ç½‘ç»œå®‰å…¨**
   - åªæš´éœ²å¿…è¦ç«¯å£
   - ä½¿ç”¨é˜²ç«å¢™é™åˆ¶è®¿é—®
   - è€ƒè™‘ä½¿ç”¨VPNæˆ–è·³æ¿æœº

3. **æ•°æ®åŠ å¯†**
   - å¯ç”¨SSL/TLSè¿žæŽ¥
   - åŠ å¯†æ•æ„Ÿæ•°æ®å­˜å‚¨
   - ä½¿ç”¨åŠ å¯†çš„å·å­˜å‚¨

4. **è®¿é—®æŽ§åˆ¶**
   - å®žæ–½RBAC (åŸºäºŽè§’è‰²çš„è®¿é—®æŽ§åˆ¶)
   - å®šæœŸè½®æ¢å¯†ç 
   - ç›‘æŽ§è®¿é—®æ—¥å¿—

---

## ðŸ“ž æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡æ— æ³•è¿žæŽ¥**
   ```bash
   # æ£€æŸ¥å®¹å™¨çŠ¶æ€
   docker compose ps
   
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tlnp | grep :3306
   
   # é‡å¯æœåŠ¡
   docker compose restart mysql
   ```

2. **Neo4jå¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥æ—¥å¿—
   docker logs root-neo4j-1
   
   # æ¸…ç†æ•°æ®é‡æ–°å¼€å§‹
   docker compose down
   docker volume rm root_neo4j_data
   docker compose up -d neo4j
   ```

3. **Kafkaè¿žæŽ¥é—®é¢˜**
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿žé€šæ€§
   docker exec -it root-kafka-1 bash
   kafka-topics --list --bootstrap-server localhost:9092
   ```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose logs

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose logs mysql
docker compose logs redis
docker compose logs neo4j

# å®žæ—¶è·Ÿè¸ªæ—¥å¿—
docker compose logs -f mysql
```

---

## ðŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [MySQL 8.0 Documentation](https://dev.mysql.com/doc/)
- [Redis Documentation](https://redis.io/documentation)
- [Neo4j Documentation](https://neo4j.com/docs/)
- [MinIO Documentation](https://docs.min.io/)
- [Apache Flink Documentation](https://flink.apache.org/docs/)
- [Apache Kafka Documentation](https://kafka.apache.org/documentation/)
- [StarRocks Documentation](https://docs.starrocks.io/)

### ç›‘æŽ§å’Œç®¡ç†
- [Prometheus Documentation](https://prometheus.io/docs/)
- [Grafana Documentation](https://grafana.com/docs/)

---

*æœ¬æ–‡æ¡£æœ€åŽæ›´æ–°æ—¶é—´: 2025-06-19*
*ç‰ˆæœ¬: 1.0* 